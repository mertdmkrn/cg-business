import{i as y}from"./helpers-DQ3rx_IO.js";import{_ as U,r as x,o as g,c as _,a as s,t as i,w,b as c,v as u,h as v,e as $,f as S,p as k,g as E}from"./index-GR731h19.js";import{_ as N}from"./auth-left-W1GJUyPy.js";const V={mounted(){y()},data(){return{businessUser:{firstName:"",lastName:"",fullName:"",email:"",telephone:"",password:"",retryPassword:""},code1:"",code2:"",code3:"",code4:"",firstStepDone:!1}},methods:{async sendSmsCode(e){var o,d,a,r,l,m;try{if(e){this.businessUser.fullName=`${this.businessUser.firstName} ${this.businessUser.lastName}`;const n=await this.$appAxios.post("/businessuser/validate",this.businessUser);if((o=n==null?void 0:n.data)==null?void 0:o.hasError){this.$toastr.error(`${(d=n==null?void 0:n.data)==null?void 0:d.message}<hr>${(a=n==null?void 0:n.data)==null?void 0:a.validationErrors.map(p=>`${p.key}: ${p.value}`).join("<hr>")}`);return}}const t=await this.$appAxios.post("/businessuser/sendtelephoneconfirmationcode",this.businessUser.telephone.replace(" ",""));((r=t==null?void 0:t.data)==null?void 0:r.hasError)?this.$toastr.warning((l=t==null?void 0:t.data)==null?void 0:l.message):(this.$toastr.success((m=t==null?void 0:t.data)==null?void 0:m.message),this.firstStepDone=!0)}catch{this.$toastr.error(this.$t("ErrorMessage"))}},async verifiedSmsCode(){var e,o;try{const d={target:this.businessUser.telephone.replace(" ",""),code:this.code1+this.code2+this.code3+this.code4},a=await this.$appAxios.post("/user/verifyconfirmationcode",d);((e=a==null?void 0:a.data)==null?void 0:e.hasError)?this.$toastr.warning((o=a==null?void 0:a.data)==null?void 0:o.message):this.save()}catch{this.$toastr.error(this.$t("ErrorMessage"))}},async save(){var l,m,t,f,n,b,p;this.businessUser.telephone=this.businessUser.telephone.replace(" ","");const e=await this.$appAxios.post("/businessuser/save",this.businessUser);let o=(l=e==null?void 0:e.data)==null?void 0:l.hasError;const d=(t=(m=e==null?void 0:e.data)==null?void 0:m.data)==null?void 0:t.token;if(o||!d){this.$toastr.error((f=e==null?void 0:e.data)==null?void 0:f.message);return}this.$toastr.success((n=e==null?void 0:e.data)==null?void 0:n.message),this.$store.commit("setToken",d);const a=await this.$appAxios.post("/businessuser/get",null,{headers:{Authorization:`Bearer ${d}`}});o=(b=a==null?void 0:a.data)==null?void 0:b.hasError;const r=(p=a==null?void 0:a.data)==null?void 0:p.data;this.$store.commit("setBusinessUser",r),setTimeout(()=>{this.$router.push({path:"/business-register"})},2e3)}}},h=e=>(k("data-v-a55ffb85"),e=e(),E(),e),A={class:"authentication-wrapper authentication-cover"},C={class:"authentication-inner row m-0"},q=h(()=>s("div",{class:"d-none d-lg-flex col-lg-8 p-0"},[s("div",{class:"auth-cover-bg auth-cover-bg-color d-flex justify-content-center align-items-center"},[s("img",{src:N,alt:"auth-login-cover",class:"auth-cover-bg","data-app-light-img":"pages/auth-left.png","data-app-dark-img":"pages/auth-left.png"})])],-1)),P={key:0,class:"d-flex col-12 col-lg-4 align-items-center p-sm-12 p-6"},T={class:"w-px-400 mx-auto pt-5"},B={class:"mb-1"},D={class:"mb-6"},I={class:"mb-6"},M={for:"firstname",class:"form-label"},j=["placeholder"],F={class:"mb-6"},Y={for:"lastname",class:"form-label"},H=["placeholder"],L={class:"mb-6"},z={for:"email",class:"form-label"},G=["placeholder"],J={class:"mb-6"},K={for:"telephone",class:"form-label"},O={class:"mb-6 form-password-toggle"},Q={class:"form-label",for:"password"},W={class:"input-group input-group-merge"},X=h(()=>s("span",{class:"input-group-text cursor-pointer"},[s("i",{class:"ti ti-eye-off"})],-1)),Z={class:"mb-6 form-password-toggle"},R={class:"form-label",for:"password"},ss={class:"input-group input-group-merge"},es=h(()=>s("span",{class:"input-group-text cursor-pointer"},[s("i",{class:"ti ti-eye-off"})],-1)),ts={class:"mb-6 mt-8"},os={class:"form-check mb-8 ms-2"},rs=h(()=>s("input",{class:"form-check-input",type:"checkbox",id:"terms-conditions",name:"terms"},null,-1)),is={class:"form-check-label",for:"terms-conditions"},as={href:"javascript:void(0);"},ns={class:"btn btn-primary d-grid w-100"},ls={class:"text-center"},ds={style:{"margin-left":"4px"}},cs={key:1,class:"d-flex col-12 col-lg-4 align-items-center authentication-bg p-6 p-sm-12"},us={class:"w-px-400 mx-auto mt-12 mt-5"},ms={class:"mb-1"},ps={class:"text-start mb-6"},hs={class:"fw-medium d-block mt-1 text-heading"},fs={class:"mb-0"},bs={class:"mb-6"},gs={class:"auth-input-wrapper d-flex align-items-center justify-content-between numeral-mask-wrapper"},_s=h(()=>s("input",{type:"hidden",name:"otp"},null,-1)),vs={class:"btn btn-primary d-grid w-100 mb-6"},ws={class:"text-center"};function ys(e,o,d,a,r,l){const m=x("router-link");return g(),_("div",A,[s("div",C,[q,r.firstStepDone?(g(),_("div",cs,[s("div",us,[s("h4",ms,i(e.$t("TwoStepVerification")),1),s("p",ps,[v(i(e.$t("TwoStepVerificationSpot"))+" ",1),s("span",hs,i(this.businessUser.telephone.replace(" ","")),1)]),s("p",fs,i(e.$t("SecurityCodeText")),1),s("form",{id:"twoStepsForm",onSubmit:o[12]||(o[12]=w((...t)=>l.verifiedSmsCode&&l.verifiedSmsCode(...t),["prevent"]))},[s("div",bs,[s("div",gs,[c(s("input",{type:"tel","onUpdate:modelValue":o[7]||(o[7]=t=>r.code1=t),class:"form-control auth-input h-px-50 text-center numeral-mask my-3",maxlength:"1",autofocus:"",required:""},null,512),[[u,r.code1]]),c(s("input",{type:"tel","onUpdate:modelValue":o[8]||(o[8]=t=>r.code2=t),class:"form-control auth-input w-25 h-px-50 text-center numeral-mask my-3",maxlength:"1",required:""},null,512),[[u,r.code2]]),c(s("input",{type:"tel","onUpdate:modelValue":o[9]||(o[9]=t=>r.code3=t),class:"form-control auth-input w-25 h-px-50 text-center numeral-mask my-3",maxlength:"1",required:""},null,512),[[u,r.code3]]),c(s("input",{type:"tel","onUpdate:modelValue":o[10]||(o[10]=t=>r.code4=t),class:"form-control auth-input w-25 h-px-50 text-center numeral-mask my-3",maxlength:"1",required:""},null,512),[[u,r.code4]])]),_s]),s("button",vs,i(e.$t("VerifyMyAccount")),1),s("div",ws,[v(i(e.$t("DidntGetTheCode"))+" ",1),s("a",{href:"javascript:void(0);",onClick:o[11]||(o[11]=(...t)=>l.sendSmsCode&&l.sendSmsCode(...t))},i(e.$t("Resend")),1)])],32)])])):(g(),_("div",P,[s("div",T,[s("h4",B,i(e.$t("AdventureStartsHere")),1),s("p",D,i(e.$t("CreateAnAccountRegister")),1),s("form",{id:"formAuthentication",onSubmit:o[6]||(o[6]=w(t=>l.sendSmsCode(!0),["prevent"])),class:"mb-6"},[s("div",I,[s("label",M,i(e.$t("FirstName")),1),c(s("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>r.businessUser.firstName=t),type:"text",class:"form-control",id:"firstname",placeholder:e.$t("EnterYourFirstName"),autofocus:"",required:""},null,8,j),[[u,r.businessUser.firstName]])]),s("div",F,[s("label",Y,i(e.$t("LastName")),1),c(s("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>r.businessUser.lastName=t),type:"text",class:"form-control",id:"lastname",placeholder:e.$t("EnterYourLastName"),required:""},null,8,H),[[u,r.businessUser.lastName]])]),s("div",L,[s("label",z,i(e.$t("Email")),1),c(s("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>r.businessUser.email=t),type:"email",class:"form-control",id:"email",placeholder:e.$t("EnterYourEmail"),required:""},null,8,G),[[u,r.businessUser.email]])]),s("div",J,[s("label",K,i(e.$t("MobileNumber")),1),c(s("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>r.businessUser.telephone=t),type:"tel",class:"form-control",id:"telephone",placeholder:"+905xxxxxxxxxx",required:""},null,512),[[u,r.businessUser.telephone]])]),s("div",O,[s("label",Q,i(e.$t("Password")),1),s("div",W,[c(s("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>r.businessUser.password=t),type:"password",id:"password",class:"form-control",placeholder:"········","aria-describedby":"password",required:""},null,512),[[u,r.businessUser.password]]),X])]),s("div",Z,[s("label",R,i(e.$t("RePassword")),1),s("div",ss,[c(s("input",{"onUpdate:modelValue":o[5]||(o[5]=t=>r.businessUser.retryPassword=t),type:"password",id:"retryPassword",class:"form-control",name:"retryPassword",placeholder:"········","aria-describedby":"retryPassword",required:""},null,512),[[u,r.businessUser.retryPassword]]),es])]),s("div",ts,[s("div",os,[rs,s("label",is,[s("a",as,i(e.$t("PrivacyPolicy")),1),v(" "+i(e.$t("AgreeTo"))+". ",1)])])]),s("button",ns,i(e.$t("SignUp")),1)],32),s("p",ls,[s("span",null,i(e.$t("AlreadyHaveAnAccount")),1),$(m,{to:"/login"},{default:S(()=>[s("span",ds,i(e.$t("SignInInstead")),1)]),_:1})])])]))])])}const Ss=U(V,[["render",ys],["__scopeId","data-v-a55ffb85"]]);export{Ss as default};
