import{_ as N,m as O,r as A,o as p,c as h,a as s,n as u,t as o,b as m,v as g,d as T,h as v,e as f,f as k,F as C,i as S,j as B,p as I,g as D}from"./index-DlrxXSAm.js";const E="/cg-business/assets/auth-business-register-DeChWLfF.png",z={mounted(){this.getServices()},data(){return{business:{name:"",website:"",address:"",mobileOrOnlineServiceOnly:!1,serviceIdArr:[],serviceIds:"",workerSizeType:0},isSave:!1,stepNumber:1,services:[],teamChooses:[this.$t("ItJustMe"),`2-5 ${this.$t("People")}`,`6-10 ${this.$t("People")}`,`11+ ${this.$t("People")}`]}},watch:{"business.mobileOrOnlineServiceOnly"(e){e&&(this.business.address="")}},methods:{async getServices(){var e;try{const t=await this.$appAxios.post("/service/getall");this.services=(e=t==null?void 0:t.data)==null?void 0:e.data}catch{this.$toastr.error(this.$t("ErrorMessage"))}},async save(){var a,d,n,c,_,y,w;this.business.serviceIds=this.business.serviceIdArr.join(";");const e=await this.$appAxios.post("/business/save",this.business,{headers:{Authorization:`Bearer ${this._token}`}});if((a=e==null?void 0:e.data)==null?void 0:a.hasError){this.$toastr.error(`${(d=e==null?void 0:e.data)==null?void 0:d.message}<hr>${(n=e==null?void 0:e.data)==null?void 0:n.validationErrors.map(x=>`${x.key}: ${x.value}`).join("<hr>")}`);return}this.$toastr.success((c=e==null?void 0:e.data)==null?void 0:c.message);const l=await this.$appAxios.post("/businessuser/get",null,{headers:{Authorization:`Bearer ${this._token}`}});if((_=l==null?void 0:l.data)==null?void 0:_.hasError){this.$toastr.error((y=l==null?void 0:l.data)==null?void 0:y.message);return}const i=(w=l==null?void 0:l.data)==null?void 0:w.data;setTimeout(()=>{this.$store.commit("setBusinessUser",i),this.$router.push({path:"/"}),window.location.reload()},2e3)},toggleService(e){const t=this.business.serviceIdArr.indexOf(e);if(t===-1){if(this.business.serviceIdArr.length===5){const b=this.business.serviceIdArr[4];this.business.serviceIdArr.splice(4,1),$(`#${b}`).removeClass("checked"),$(`#customCheckboxTemp${b}`).prop("checked",!1),$(`#text-${b}`).text("")}this.business.serviceIdArr.push(e),$(`#${e}`).addClass("checked");let l=this.business.serviceIdArr.length<=1?this.$t("Primary"):this.business.serviceIdArr.length-1;$(`#text-${e}`).text(l)}else{this.business.serviceIdArr.splice(t,1),$(`#${e}`).removeClass("checked"),$(`#text-${e}`).text("");for(let l=0;l<this.business.serviceIdArr.length;l++)$(`#text-${this.business.serviceIdArr[l]}`).text(l===0?this.$t("Primary"):l)}},onLogout(){this.$store.commit("logoutBusinessUser"),this.$router.push({path:"/login"})}},computed:{stepDone(){switch(this.stepNumber){case 1:return this.business.name&&(this.business.address||this.business.mobileOrOnlineServiceOnly);case 2:return this.business.serviceIdArr&&this.business.serviceIdArr.length>0;case 3:return this.business.workerSizeType>0;default:return!1}},...O(["_token"])}},r=e=>(I("data-v-a76694d9"),e=e(),D(),e),L={class:"authentication-wrapper authentication-cover"},j={class:"authentication-inner row m-0"},P=r(()=>s("div",{class:"d-none d-lg-flex col-lg-3 p-0"},[s("div",{class:"auth-cover-bg-2 auth-cover-bg-color d-flex justify-content-center align-items-lg-center"},[s("img",{src:E,alt:"auth-login-cover",class:"auth-cover-bg","data-app-light-img":"pages/auth-business-register.png","data-app-dark-img":"pages/auth-business-register.png"})])],-1)),V={class:"d-flex col-12 col-lg-9 align-items-lg-center"},Y={class:"col-12 col-lg-10 mb-6 mx-auto"},W={class:"bs-stepper wizard-modern wizard-numbered mt-0"},M={class:"bs-stepper-header"},U=r(()=>s("span",{class:"bs-stepper-circle"},[s("i",{class:"ti ti-building-store"})],-1)),F={class:"bs-stepper-label"},H={class:"bs-stepper-title"},X={class:"d-inline d-lg-none d-xl-inline bs-stepper-subtitle"},G=r(()=>s("div",{class:"line"},[s("i",{class:"ti ti-chevron-right"})],-1)),J=["disabled"],R=r(()=>s("span",{class:"bs-stepper-circle"},[s("i",{class:"ti ti-aperture"})],-1)),q={class:"bs-stepper-label"},K={class:"bs-stepper-title"},Q={class:"d-inline d-lg-none d-xl-inline bs-stepper-subtitle"},Z=r(()=>s("div",{class:"line"},[s("i",{class:"ti ti-chevron-right"})],-1)),ss=["disabled"],es=r(()=>s("span",{class:"bs-stepper-circle"},[s("i",{class:"ti ti-users"})],-1)),ts={class:"bs-stepper-label"},is={class:"bs-stepper-title"},ns={class:"d-inline d-lg-none d-xl-inline bs-stepper-subtitle"},os={class:"bs-stepper-content bg-transparent"},ls={class:"content-header mb-4"},rs={class:"mb-0"},as={class:"row"},cs={class:"mb-6"},ds={for:"businessname",class:"form-label"},us={class:"mb-5"},bs={for:"website",class:"form-label"},ps={class:"input-group input-group-merge"},hs=r(()=>s("span",{class:"input-group-text"},[s("i",{class:"ti ti-world"})],-1)),ms={class:"mb-6"},_s={for:"address",class:"form-label"},vs={class:"input-group input-group-merge"},gs=r(()=>s("span",{class:"input-group-text"},[s("i",{class:"ti ti-map-pin"})],-1)),fs=["disabled"],ks={class:"mb-6 px-5"},ys={class:"col-12 d-flex justify-content-between mb-6 mt-1"},$s={type:"button",class:"btn btn-label-secondary btn-prev",disabled:""},ws=r(()=>s("i",{class:"ti ti-arrow-left ti-xs me-sm-2 me-0"},null,-1)),xs={class:"align-middle d-sm-inline-block d-none"},Cs=["disabled"],Ss={class:"align-middle d-sm-inline-block d-none me-sm-2"},Ns=r(()=>s("i",{class:"ti ti-arrow-right ti-xs"},null,-1)),Os={class:"text-center"},As=r(()=>s("i",{class:"ti ti-chevron-left scaleX-n1-rtl me-1_5"},null,-1)),Ts={class:"content-header mb-4"},Bs={class:"mb-0"},Is={class:"mb-0"},Ds={class:"row"},Es=["id"],zs=["for"],Ls=["id","onClick"],js={class:"custom-option-header"},Ps=["title"],Vs=["id"],Ys={class:"col-12 d-flex justify-content-between mb-6 mt-2"},Ws=r(()=>s("i",{class:"ti ti-arrow-left ti-xs me-sm-2 me-0"},null,-1)),Ms={class:"align-middle d-sm-inline-block d-none"},Us=["disabled"],Fs={class:"align-middle d-sm-inline-block d-none me-sm-2"},Hs=r(()=>s("i",{class:"ti ti-arrow-right ti-xs"},null,-1)),Xs={class:"text-center"},Gs=r(()=>s("i",{class:"ti ti-chevron-left scaleX-n1-rtl me-1_5"},null,-1)),Js={class:"content-header mb-4"},Rs={class:"mb-0"},qs={class:"row"},Ks={class:"form-check custom-option custom-option-basic"},Qs=["for"],Zs=["value","id"],se={class:"custom-option-header"},ee={class:"h6 mb-0"},te={class:"col-12 d-flex justify-content-between mb-6 mt-2"},ie=r(()=>s("i",{class:"ti ti-arrow-left ti-xs me-sm-2 me-0"},null,-1)),ne={class:"align-middle d-sm-inline-block d-none"},oe=["disabled"],le={class:"text-center"},re=r(()=>s("i",{class:"ti ti-chevron-left scaleX-n1-rtl me-1_5"},null,-1));function ae(e,t,l,b,i,a){const d=A("router-link");return p(),h("div",L,[s("div",j,[P,s("div",V,[s("div",Y,[s("div",W,[s("div",M,[s("div",{class:u(["col-md-3 step",{crossed:i.stepNumber>1,active:i.stepNumber===1}]),"data-target":"#account-details"},[s("button",{type:"button",class:"step-trigger",onClick:t[0]||(t[0]=n=>i.stepNumber=1)},[U,s("span",F,[s("span",H,o(e.$t("Business")),1),s("span",X,o(e.$t("EnterYourBusinessDetails")),1)])])],2),G,s("div",{class:u(["col-md-3 step",{crossed:i.stepNumber>2,active:i.stepNumber===2}]),"data-target":"#service-details"},[s("button",{type:"button",class:"step-trigger",disabled:i.stepNumber<2&&!a.stepDone,onClick:t[1]||(t[1]=n=>i.stepNumber=2)},[R,s("span",q,[s("span",K,o(e.$t("Services")),1),s("span",Q,o(e.$t("ChooseYourServices")),1)])],8,J)],2),Z,s("div",{class:u(["col-md-3 step",{active:i.stepNumber===3}]),"data-target":"#team-details"},[s("button",{type:"button",class:"step-trigger",disabled:!a.stepDone&&i.stepNumber<3||i.stepNumber<2,onClick:t[2]||(t[2]=n=>i.stepNumber=3)},[es,s("span",ts,[s("span",is,o(e.$t("Team")),1),s("span",ns,o(e.$t("EnterYourTeamDetails")),1)])],8,ss)],2)]),s("div",os,[s("form",null,[s("div",{id:"account-details",class:u(["content h-px-700",{active:i.stepNumber===1}])},[s("div",ls,[s("p",rs,o(e.$t("AccountSetup")),1),s("h4",null,o(e.$t("WhatYourBusinessName")),1)]),s("div",as,[s("div",cs,[s("label",ds,o(e.$t("BusinessName")),1),m(s("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>i.business.name=n),type:"text",class:"form-control",id:"businessname",name:"businessname",autofocus:""},null,512),[[g,i.business.name]])]),s("div",us,[s("label",bs,"Website ("+o(e.$t("Optional"))+")",1),s("div",ps,[hs,m(s("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>i.business.website=n),type:"text",class:"form-control",id:"website",name:"website",placeholder:"www"},null,512),[[g,i.business.website]])])]),s("div",null,[s("h4",null,o(e.$t("WhereYourBusinessLocated")),1)]),s("div",ms,[s("label",_s,o(e.$t("BusinessAddress")),1),s("div",vs,[gs,m(s("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>i.business.address=n),type:"text",class:"form-control",id:"address",name:"address",disabled:i.business.mobileOrOnlineServiceOnly},null,8,fs),[[g,i.business.address]])])]),s("div",ks,[m(s("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>i.business.mobileOrOnlineServiceOnly=n),type:"checkbox",id:"mobileOrOnlineServiceOnly",name:"mobileOrOnlineServiceOnly"},null,512),[[T,i.business.mobileOrOnlineServiceOnly]]),v(" Â "+o(e.$t("IDontHaveBusinessAddress")),1)]),s("div",ys,[s("button",$s,[ws,s("span",xs,o(e.$t("Previous")),1)]),s("button",{type:"button",class:"btn btn-primary btn-next",disabled:!a.stepDone,onClick:t[7]||(t[7]=n=>i.stepNumber++)},[s("span",Ss,o(e.$t("Next")),1),Ns],8,Cs)]),s("div",Os,[f(d,{onClick:a.onLogout,to:"/login",class:"d-flex align-items-center justify-content-center"},{default:k(()=>[As,v(" "+o(e.$t("BackToLogin")),1)]),_:1},8,["onClick"])])])],2),s("div",{id:"service-details",class:u(["content h-px-700",{active:i.stepNumber===2}])},[s("div",Ts,[s("p",Bs,o(e.$t("AccountSetup")),1),s("h4",Is,o(e.$t("WhatAreYourServices")),1),s("span",null,o(e.$t("ChooseYourRelatedServices")),1)]),s("div",Ds,[(p(!0),h(C,null,S(i.services,n=>(p(),h("div",{class:"col-12 col-sm-6 col-md-4 col-lg-4 mb-4",key:n.id},[s("div",{class:"form-check custom-option custom-option-basic",id:n.id},[s("label",{class:"form-check-label custom-option-content pt-6",for:`customCheckboxTemp${n.id}`},[s("input",{class:"form-check-input",type:"checkbox",id:`customCheckboxTemp${n.id}`,onClick:c=>a.toggleService(n.id)},null,8,Ls),s("span",js,[s("span",{class:"h6 mb-0 text-truncate",title:this.$store.getters._language==="tr"?n.name:n.nameEn},o(this.$store.getters._language==="tr"?n.name:n.nameEn),9,Ps),s("small",{class:"text-muted",id:`text-${n.id}`},null,8,Vs)])],8,zs)],8,Es)]))),128)),s("div",Ys,[s("button",{type:"button",class:"btn btn-label-secondary btn-prev",onClick:t[8]||(t[8]=n=>i.stepNumber--)},[Ws,s("span",Ms,o(e.$t("Previous")),1)]),s("button",{type:"button",class:"btn btn-primary btn-next",disabled:!a.stepDone,onClick:t[9]||(t[9]=n=>i.stepNumber++)},[s("span",Fs,o(e.$t("Next")),1),Hs],8,Us)]),s("div",Xs,[f(d,{onClick:a.onLogout,to:"/login",class:"d-flex align-items-center justify-content-center"},{default:k(()=>[Gs,v(" "+o(e.$t("BackToLogin")),1)]),_:1},8,["onClick"])])])],2),s("div",{id:"team-details",class:u(["content h-px-700",{active:i.stepNumber===3}])},[s("div",Js,[s("p",Rs,o(e.$t("AccountSetup")),1),s("h4",null,o(e.$t("WhatYourTeamSize")),1)]),s("div",qs,[(p(!0),h(C,null,S(i.teamChooses,(n,c)=>(p(),h("div",{class:"col-md-12 mb-4",key:c},[s("div",Ks,[s("label",{class:"form-check-label custom-option-content pt-6",for:`customRadioTemp${c+1}`},[m(s("input",{name:"customRadioTemp",value:c+1,class:"form-check-input",type:"radio",id:`customRadioTemp${c+1}`,"onUpdate:modelValue":t[10]||(t[10]=_=>i.business.workerSizeType=_)},null,8,Zs),[[B,i.business.workerSizeType]]),s("span",se,[s("span",ee,o(n),1)])],8,Qs)])]))),128)),s("div",te,[s("button",{type:"button",class:"btn btn-label-secondary btn-prev",onClick:t[11]||(t[11]=n=>i.stepNumber--)},[ie,s("span",ne,o(e.$t("Previous")),1)]),s("button",{type:"button",disabled:!a.stepDone,onClick:t[12]||(t[12]=(...n)=>a.save&&a.save(...n)),class:"btn btn-primary btn-submit"},o(e.$t("Done")),9,oe)]),s("div",le,[f(d,{onClick:a.onLogout,to:"/login",class:"d-flex align-items-center justify-content-center"},{default:k(()=>[re,v(" "+o(e.$t("BackToLogin")),1)]),_:1},8,["onClick"])])])],2)])])])])])])])}const de=N(z,[["render",ae],["__scopeId","data-v-a76694d9"]]);export{de as default};
