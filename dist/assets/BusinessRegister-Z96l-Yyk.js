import{_ as N,c as p,a as s,n as u,t as o,b as h,v as g,d as O,h as v,e as f,f as k,F as C,i as S,r as A,o as m,j as T,p as I,g as B}from"./index-DuHJjiMt.js";const D="/cg-business/assets/auth-business-register-DeChWLfF.png",E={mounted(){this.getServices()},data(){return{business:{name:"",website:"",address:"",mobileOrOnlineServiceOnly:!1,serviceIdArr:[],serviceIds:"",workerSizeType:0},isSave:!1,stepNumber:1,services:[],teamChooses:[this.$t("ItJustMe"),`2-5 ${this.$t("People")}`,`6-10 ${this.$t("People")}`,`11+ ${this.$t("People")}`]}},watch:{"business.mobileOrOnlineServiceOnly"(e){e&&(this.business.address="")}},methods:{async getServices(){var e;try{const t=await this.$appAxios.post("/service/getall");this.services=(e=t==null?void 0:t.data)==null?void 0:e.data}catch{this.$toastr.error(this.$t("ErrorMessage"))}},async save(){var c,d,n,a,_,y,w;this.business.serviceIds=this.business.serviceIdArr.join(";");const e=await this.$appAxios.post("/business/save",this.business);if((c=e==null?void 0:e.data)==null?void 0:c.hasError){this.$toastr.error(`${(d=e==null?void 0:e.data)==null?void 0:d.message}<hr>${(n=e==null?void 0:e.data)==null?void 0:n.validationErrors.map(x=>`${x.key}: ${x.value}`).join("<hr>")}`);return}this.$toastr.success((a=e==null?void 0:e.data)==null?void 0:a.message);const l=await this.$appAxios.post("/businessuser/get",{});if((_=l==null?void 0:l.data)==null?void 0:_.hasError){this.$toastr.error((y=l==null?void 0:l.data)==null?void 0:y.message);return}const i=(w=l==null?void 0:l.data)==null?void 0:w.data;setTimeout(()=>{this.$store.commit("setBusinessUser",i),this.$router.push({path:"/"}),window.location.reload()},2e3)},toggleService(e){const t=this.business.serviceIdArr.indexOf(e);if(t===-1){if(this.business.serviceIdArr.length===5){const b=this.business.serviceIdArr[4];this.business.serviceIdArr.splice(4,1),$(`#${b}`).removeClass("checked"),$(`#customCheckboxTemp${b}`).prop("checked",!1),$(`#text-${b}`).text("")}this.business.serviceIdArr.push(e),$(`#${e}`).addClass("checked");let l=this.business.serviceIdArr.length<=1?this.$t("Primary"):this.business.serviceIdArr.length-1;$(`#text-${e}`).text(l)}else{this.business.serviceIdArr.splice(t,1),$(`#${e}`).removeClass("checked"),$(`#text-${e}`).text("");for(let l=0;l<this.business.serviceIdArr.length;l++)$(`#text-${this.business.serviceIdArr[l]}`).text(l===0?this.$t("Primary"):l)}},onLogout(){this.$store.commit("logoutBusinessUser"),this.$router.push({path:"/login"})}},computed:{stepDone(){switch(this.stepNumber){case 1:return this.business.name&&(this.business.address||this.business.mobileOrOnlineServiceOnly);case 2:return this.business.serviceIdArr&&this.business.serviceIdArr.length>0;case 3:return this.business.workerSizeType>0;default:return!1}}}},r=e=>(I("data-v-ef79b998"),e=e(),B(),e),L={class:"authentication-wrapper authentication-cover"},j={class:"authentication-inner row m-0"},z=r(()=>s("div",{class:"d-none d-lg-flex col-lg-3 p-0"},[s("div",{class:"auth-cover-bg-2 auth-cover-bg-color d-flex justify-content-center align-items-lg-center"},[s("img",{src:D,alt:"auth-login-cover",class:"auth-cover-bg","data-app-light-img":"pages/auth-business-register.png","data-app-dark-img":"pages/auth-business-register.png"})])],-1)),P={class:"d-flex col-12 col-lg-9 align-items-lg-center"},V={class:"col-12 col-lg-10 mb-6 mx-auto"},Y={class:"bs-stepper wizard-modern wizard-numbered mt-0"},W={class:"bs-stepper-header"},M=r(()=>s("span",{class:"bs-stepper-circle"},[s("i",{class:"ti ti-building-store"})],-1)),U={class:"bs-stepper-label"},F={class:"bs-stepper-title"},H={class:"d-inline d-lg-none d-xl-inline bs-stepper-subtitle"},X=r(()=>s("div",{class:"line"},[s("i",{class:"ti ti-chevron-right"})],-1)),J=["disabled"],R=r(()=>s("span",{class:"bs-stepper-circle"},[s("i",{class:"ti ti-aperture"})],-1)),q={class:"bs-stepper-label"},G={class:"bs-stepper-title"},K={class:"d-inline d-lg-none d-xl-inline bs-stepper-subtitle"},Q=r(()=>s("div",{class:"line"},[s("i",{class:"ti ti-chevron-right"})],-1)),Z=["disabled"],ss=r(()=>s("span",{class:"bs-stepper-circle"},[s("i",{class:"ti ti-users"})],-1)),es={class:"bs-stepper-label"},ts={class:"bs-stepper-title"},is={class:"d-inline d-lg-none d-xl-inline bs-stepper-subtitle"},ns={class:"bs-stepper-content bg-transparent"},os={class:"content-header mb-4"},ls={class:"mb-0"},rs={class:"row"},cs={class:"mb-6"},as={for:"businessname",class:"form-label"},ds={class:"mb-5"},us={for:"website",class:"form-label"},bs={class:"input-group input-group-merge"},ps=r(()=>s("span",{class:"input-group-text"},[s("i",{class:"ti ti-world"})],-1)),hs={class:"mb-6"},ms={for:"address",class:"form-label"},_s={class:"input-group input-group-merge"},vs=r(()=>s("span",{class:"input-group-text"},[s("i",{class:"ti ti-map-pin"})],-1)),gs=["disabled"],fs={class:"mb-6 px-5"},ks={class:"col-12 d-flex justify-content-between mb-6 mt-1"},ys={type:"button",class:"btn btn-label-secondary btn-prev",disabled:""},$s=r(()=>s("i",{class:"ti ti-arrow-left ti-xs me-sm-2 me-0"},null,-1)),ws={class:"align-middle d-sm-inline-block d-none"},xs=["disabled"],Cs={class:"align-middle d-sm-inline-block d-none me-sm-2"},Ss=r(()=>s("i",{class:"ti ti-arrow-right ti-xs"},null,-1)),Ns={class:"text-center"},Os=r(()=>s("i",{class:"ti ti-chevron-left scaleX-n1-rtl me-1_5"},null,-1)),As={class:"content-header mb-4"},Ts={class:"mb-0"},Is={class:"mb-0"},Bs={class:"row"},Ds=["id"],Es=["for"],Ls=["id","onClick"],js={class:"custom-option-header"},zs=["title"],Ps=["id"],Vs={class:"col-12 d-flex justify-content-between mb-6 mt-2"},Ys=r(()=>s("i",{class:"ti ti-arrow-left ti-xs me-sm-2 me-0"},null,-1)),Ws={class:"align-middle d-sm-inline-block d-none"},Ms=["disabled"],Us={class:"align-middle d-sm-inline-block d-none me-sm-2"},Fs=r(()=>s("i",{class:"ti ti-arrow-right ti-xs"},null,-1)),Hs={class:"text-center"},Xs=r(()=>s("i",{class:"ti ti-chevron-left scaleX-n1-rtl me-1_5"},null,-1)),Js={class:"content-header mb-4"},Rs={class:"mb-0"},qs={class:"row"},Gs={class:"form-check custom-option custom-option-basic"},Ks=["for"],Qs=["value","id"],Zs={class:"custom-option-header"},se={class:"h6 mb-0"},ee={class:"col-12 d-flex justify-content-between mb-6 mt-2"},te=r(()=>s("i",{class:"ti ti-arrow-left ti-xs me-sm-2 me-0"},null,-1)),ie={class:"align-middle d-sm-inline-block d-none"},ne=["disabled"],oe={class:"text-center"},le=r(()=>s("i",{class:"ti ti-chevron-left scaleX-n1-rtl me-1_5"},null,-1));function re(e,t,l,b,i,c){const d=A("router-link");return m(),p("div",L,[s("div",j,[z,s("div",P,[s("div",V,[s("div",Y,[s("div",W,[s("div",{class:u(["col-md-3 step",{crossed:i.stepNumber>1,active:i.stepNumber===1}]),"data-target":"#account-details"},[s("button",{type:"button",class:"step-trigger",onClick:t[0]||(t[0]=n=>i.stepNumber=1)},[M,s("span",U,[s("span",F,o(e.$t("Business")),1),s("span",H,o(e.$t("EnterYourBusinessDetails")),1)])])],2),X,s("div",{class:u(["col-md-3 step",{crossed:i.stepNumber>2,active:i.stepNumber===2}]),"data-target":"#service-details"},[s("button",{type:"button",class:"step-trigger",disabled:i.stepNumber<2&&!c.stepDone,onClick:t[1]||(t[1]=n=>i.stepNumber=2)},[R,s("span",q,[s("span",G,o(e.$t("Services")),1),s("span",K,o(e.$t("ChooseYourServices")),1)])],8,J)],2),Q,s("div",{class:u(["col-md-3 step",{active:i.stepNumber===3}]),"data-target":"#team-details"},[s("button",{type:"button",class:"step-trigger",disabled:!c.stepDone&&i.stepNumber<3||i.stepNumber<2,onClick:t[2]||(t[2]=n=>i.stepNumber=3)},[ss,s("span",es,[s("span",ts,o(e.$t("Team")),1),s("span",is,o(e.$t("EnterYourTeamDetails")),1)])],8,Z)],2)]),s("div",ns,[s("form",null,[s("div",{id:"account-details",class:u(["content h-px-700",{active:i.stepNumber===1}])},[s("div",os,[s("p",ls,o(e.$t("AccountSetup")),1),s("h4",null,o(e.$t("WhatYourBusinessName")),1)]),s("div",rs,[s("div",cs,[s("label",as,o(e.$t("BusinessName")),1),h(s("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>i.business.name=n),type:"text",class:"form-control",id:"businessname",name:"businessname",autofocus:""},null,512),[[g,i.business.name]])]),s("div",ds,[s("label",us,"Website ("+o(e.$t("Optional"))+")",1),s("div",bs,[ps,h(s("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>i.business.website=n),type:"text",class:"form-control",id:"website",name:"website",placeholder:"www"},null,512),[[g,i.business.website]])])]),s("div",null,[s("h4",null,o(e.$t("WhereYourBusinessLocated")),1)]),s("div",hs,[s("label",ms,o(e.$t("BusinessAddress")),1),s("div",_s,[vs,h(s("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>i.business.address=n),type:"text",class:"form-control",id:"address",name:"address",disabled:i.business.mobileOrOnlineServiceOnly},null,8,gs),[[g,i.business.address]])])]),s("div",fs,[h(s("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>i.business.mobileOrOnlineServiceOnly=n),type:"checkbox",id:"mobileOrOnlineServiceOnly",name:"mobileOrOnlineServiceOnly"},null,512),[[O,i.business.mobileOrOnlineServiceOnly]]),v(" Â "+o(e.$t("IDontHaveBusinessAddress")),1)]),s("div",ks,[s("button",ys,[$s,s("span",ws,o(e.$t("Previous")),1)]),s("button",{type:"button",class:"btn btn-primary btn-next",disabled:!c.stepDone,onClick:t[7]||(t[7]=n=>i.stepNumber++)},[s("span",Cs,o(e.$t("Next")),1),Ss],8,xs)]),s("div",Ns,[f(d,{onClick:c.onLogout,to:"/login",class:"d-flex align-items-center justify-content-center"},{default:k(()=>[Os,v(" "+o(e.$t("BackToLogin")),1)]),_:1},8,["onClick"])])])],2),s("div",{id:"service-details",class:u(["content h-px-700",{active:i.stepNumber===2}])},[s("div",As,[s("p",Ts,o(e.$t("AccountSetup")),1),s("h4",Is,o(e.$t("WhatAreYourServices")),1),s("span",null,o(e.$t("ChooseYourRelatedServices")),1)]),s("div",Bs,[(m(!0),p(C,null,S(i.services,n=>(m(),p("div",{class:"col-12 col-sm-6 col-md-4 col-lg-4 mb-4",key:n.id},[s("div",{class:"form-check custom-option custom-option-basic",id:n.id},[s("label",{class:"form-check-label custom-option-content pt-6",for:`customCheckboxTemp${n.id}`},[s("input",{class:"form-check-input",type:"checkbox",id:`customCheckboxTemp${n.id}`,onClick:a=>c.toggleService(n.id)},null,8,Ls),s("span",js,[s("span",{class:"h6 mb-0 text-truncate",title:this.$store.getters._language==="tr"?n.name:n.nameEn},o(this.$store.getters._language==="tr"?n.name:n.nameEn),9,zs),s("small",{class:"text-muted",id:`text-${n.id}`},null,8,Ps)])],8,Es)],8,Ds)]))),128)),s("div",Vs,[s("button",{type:"button",class:"btn btn-label-secondary btn-prev",onClick:t[8]||(t[8]=n=>i.stepNumber--)},[Ys,s("span",Ws,o(e.$t("Previous")),1)]),s("button",{type:"button",class:"btn btn-primary btn-next",disabled:!c.stepDone,onClick:t[9]||(t[9]=n=>i.stepNumber++)},[s("span",Us,o(e.$t("Next")),1),Fs],8,Ms)]),s("div",Hs,[f(d,{onClick:c.onLogout,to:"/login",class:"d-flex align-items-center justify-content-center"},{default:k(()=>[Xs,v(" "+o(e.$t("BackToLogin")),1)]),_:1},8,["onClick"])])])],2),s("div",{id:"team-details",class:u(["content h-px-700",{active:i.stepNumber===3}])},[s("div",Js,[s("p",Rs,o(e.$t("AccountSetup")),1),s("h4",null,o(e.$t("WhatYourTeamSize")),1)]),s("div",qs,[(m(!0),p(C,null,S(i.teamChooses,(n,a)=>(m(),p("div",{class:"col-md-12 mb-4",key:a},[s("div",Gs,[s("label",{class:"form-check-label custom-option-content pt-6",for:`customRadioTemp${a+1}`},[h(s("input",{name:"customRadioTemp",value:a+1,class:"form-check-input",type:"radio",id:`customRadioTemp${a+1}`,"onUpdate:modelValue":t[10]||(t[10]=_=>i.business.workerSizeType=_)},null,8,Qs),[[T,i.business.workerSizeType]]),s("span",Zs,[s("span",se,o(n),1)])],8,Ks)])]))),128)),s("div",ee,[s("button",{type:"button",class:"btn btn-label-secondary btn-prev",onClick:t[11]||(t[11]=n=>i.stepNumber--)},[te,s("span",ie,o(e.$t("Previous")),1)]),s("button",{type:"button",disabled:!c.stepDone,onClick:t[12]||(t[12]=(...n)=>c.save&&c.save(...n)),class:"btn btn-primary btn-submit"},o(e.$t("Done")),9,ne)]),s("div",oe,[f(d,{onClick:c.onLogout,to:"/login",class:"d-flex align-items-center justify-content-center"},{default:k(()=>[le,v(" "+o(e.$t("BackToLogin")),1)]),_:1},8,["onClick"])])])],2)])])])])])])])}const ae=N(E,[["render",re],["__scopeId","data-v-ef79b998"]]);export{ae as default};
