import{_ as C,m as S,r as N,o as b,c as h,a as s,n as p,t as o,b as m,v as g,d as O,h as v,e as f,f as k,F as w,i as x,j as A,p as T,g as B}from"./index-C6jvjgdr.js";const I="/cg-business/assets/auth-business-register-DeChWLfF.png",D={mounted(){this.getServices()},data(){return{business:{name:"",website:"",address:"",mobileOrOnlineServiceOnly:!1,serviceIdArr:[],serviceIds:"",workerSizeType:0},isSave:!1,stepNumber:1,services:[],teamChooses:[this.$t("ItJustMe"),`2-5 ${this.$t("People")}`,`6-10 ${this.$t("People")}`,`11+ ${this.$t("People")}`]}},watch:{"business.mobileOrOnlineServiceOnly"(e){e&&(this.business.address="")}},methods:{async getServices(){var e;try{const t=await this.$appAxios.post("/service/getall");this.services=(e=t==null?void 0:t.data)==null?void 0:e.data}catch{this.$toastr.error(this.$t("ErrorMessage"))}},async save(){var i,c,u,n,a,_;this.business.serviceIds=this.business.serviceIdArr.join(";");const e=await this.$appAxios.post("/business/save",this.business,{headers:{Authorization:`Bearer ${this._token}`}});let t=(i=e==null?void 0:e.data)==null?void 0:i.hasError;if(t){this.$toastr.error(`${(c=e==null?void 0:e.data)==null?void 0:c.message}<hr>${(u=e==null?void 0:e.data)==null?void 0:u.validationErrors.map(y=>`${y.key}: ${y.value}`).join("<hr>")}`);return}this.$toastr.success((n=e==null?void 0:e.data)==null?void 0:n.message);const r=await this.$appAxios.post("/businessuser/get",null,{headers:{Authorization:`Bearer ${this._token}`}});t=(a=r==null?void 0:r.data)==null?void 0:a.hasError;const d=(_=r==null?void 0:r.data)==null?void 0:_.data;this.$store.commit("setBusinessUser",d),setTimeout(()=>{this.$router.push({path:"/"})},2e3)},toggleService(e){const t=this.business.serviceIdArr.indexOf(e);if(t===-1){if(this.business.serviceIdArr.length===5){const d=this.business.serviceIdArr[4];this.business.serviceIdArr.splice(4,1),$(`#${d}`).removeClass("checked"),$(`#customCheckboxTemp${d}`).prop("checked",!1),$(`#text-${d}`).text("")}this.business.serviceIdArr.push(e),$(`#${e}`).addClass("checked");let r=this.business.serviceIdArr.length<=1?this.$t("Primary"):this.business.serviceIdArr.length-1;$(`#text-${e}`).text(r)}else{this.business.serviceIdArr.splice(t,1),$(`#${e}`).removeClass("checked"),$(`#text-${e}`).text("");for(let r=0;r<this.business.serviceIdArr.length;r++)$(`#text-${this.business.serviceIdArr[r]}`).text(r===0?this.$t("Primary"):r)}},onLogout(){this.$store.commit("logoutBusinessUser"),this.$router.push({path:"/login"})}},computed:{stepDone(){switch(this.stepNumber){case 1:return this.business.name&&(this.business.address||this.business.mobileOrOnlineServiceOnly);case 2:return this.business.serviceIdArr&&this.business.serviceIdArr.length>0;case 3:return this.business.workerSizeType>0;default:return!1}},...S(["_token"])}},l=e=>(T("data-v-469837f3"),e=e(),B(),e),z={class:"authentication-wrapper authentication-cover"},E={class:"authentication-inner row m-0"},L=l(()=>s("div",{class:"d-none d-lg-flex col-lg-3 p-0"},[s("div",{class:"auth-cover-bg-2 auth-cover-bg-color d-flex justify-content-center align-items-lg-center"},[s("img",{src:I,alt:"auth-login-cover",class:"auth-cover-bg","data-app-light-img":"pages/auth-business-register.png","data-app-dark-img":"pages/auth-business-register.png"})])],-1)),j={class:"d-flex col-12 col-lg-9 align-items-lg-center"},P={class:"col-12 col-lg-10 mb-6 mx-auto"},V={class:"bs-stepper wizard-modern wizard-numbered mt-0"},Y={class:"bs-stepper-header"},W=l(()=>s("span",{class:"bs-stepper-circle"},[s("i",{class:"ti ti-building-store"})],-1)),M={class:"bs-stepper-label"},U={class:"bs-stepper-title"},F={class:"d-inline d-lg-none d-xl-inline bs-stepper-subtitle"},R=l(()=>s("div",{class:"line"},[s("i",{class:"ti ti-chevron-right"})],-1)),X=["disabled"],G=l(()=>s("span",{class:"bs-stepper-circle"},[s("i",{class:"ti ti-aperture"})],-1)),H={class:"bs-stepper-label"},J={class:"bs-stepper-title"},q={class:"d-inline d-lg-none d-xl-inline bs-stepper-subtitle"},K=l(()=>s("div",{class:"line"},[s("i",{class:"ti ti-chevron-right"})],-1)),Q=["disabled"],Z=l(()=>s("span",{class:"bs-stepper-circle"},[s("i",{class:"ti ti-users"})],-1)),ss={class:"bs-stepper-label"},es={class:"bs-stepper-title"},ts={class:"d-inline d-lg-none d-xl-inline bs-stepper-subtitle"},is={class:"bs-stepper-content bg-transparent"},ns={class:"content-header mb-4"},os={class:"mb-0"},ls={class:"row"},rs={class:"mb-6"},cs={for:"businessname",class:"form-label"},as={class:"mb-5"},ds={for:"website",class:"form-label"},us={class:"input-group input-group-merge"},ps=l(()=>s("span",{class:"input-group-text"},[s("i",{class:"ti ti-world"})],-1)),bs={class:"mb-6"},hs={for:"address",class:"form-label"},ms={class:"input-group input-group-merge"},_s=l(()=>s("span",{class:"input-group-text"},[s("i",{class:"ti ti-map-pin"})],-1)),vs=["disabled"],gs={class:"mb-6 px-5"},fs={class:"col-12 d-flex justify-content-between mb-6 mt-1"},ks={type:"button",class:"btn btn-label-secondary btn-prev",disabled:""},ys=l(()=>s("i",{class:"ti ti-arrow-left ti-xs me-sm-2 me-0"},null,-1)),$s={class:"align-middle d-sm-inline-block d-none"},ws=["disabled"],xs={class:"align-middle d-sm-inline-block d-none me-sm-2"},Cs=l(()=>s("i",{class:"ti ti-arrow-right ti-xs"},null,-1)),Ss={class:"text-center"},Ns=l(()=>s("i",{class:"ti ti-chevron-left scaleX-n1-rtl me-1_5"},null,-1)),Os={class:"content-header mb-4"},As={class:"mb-0"},Ts={class:"mb-0"},Bs={class:"row"},Is=["id"],Ds=["for"],zs=["id","onClick"],Es={class:"custom-option-header"},Ls=["title"],js=["id"],Ps={class:"col-12 d-flex justify-content-between mb-6 mt-2"},Vs=l(()=>s("i",{class:"ti ti-arrow-left ti-xs me-sm-2 me-0"},null,-1)),Ys={class:"align-middle d-sm-inline-block d-none"},Ws=["disabled"],Ms={class:"align-middle d-sm-inline-block d-none me-sm-2"},Us=l(()=>s("i",{class:"ti ti-arrow-right ti-xs"},null,-1)),Fs={class:"text-center"},Rs=l(()=>s("i",{class:"ti ti-chevron-left scaleX-n1-rtl me-1_5"},null,-1)),Xs={class:"content-header mb-4"},Gs={class:"mb-0"},Hs={class:"row"},Js={class:"form-check custom-option custom-option-basic"},qs=["for"],Ks=["value","id"],Qs={class:"custom-option-header"},Zs={class:"h6 mb-0"},se={class:"col-12 d-flex justify-content-between mb-6 mt-2"},ee=l(()=>s("i",{class:"ti ti-arrow-left ti-xs me-sm-2 me-0"},null,-1)),te={class:"align-middle d-sm-inline-block d-none"},ie=["disabled"],ne={class:"text-center"},oe=l(()=>s("i",{class:"ti ti-chevron-left scaleX-n1-rtl me-1_5"},null,-1));function le(e,t,r,d,i,c){const u=N("router-link");return b(),h("div",z,[s("div",E,[L,s("div",j,[s("div",P,[s("div",V,[s("div",Y,[s("div",{class:p(["col-md-3 step",{crossed:i.stepNumber>1,active:i.stepNumber===1}]),"data-target":"#account-details"},[s("button",{type:"button",class:"step-trigger",onClick:t[0]||(t[0]=n=>i.stepNumber=1)},[W,s("span",M,[s("span",U,o(e.$t("Business")),1),s("span",F,o(e.$t("EnterYourBusinessDetails")),1)])])],2),R,s("div",{class:p(["col-md-3 step",{crossed:i.stepNumber>2,active:i.stepNumber===2}]),"data-target":"#service-details"},[s("button",{type:"button",class:"step-trigger",disabled:i.stepNumber<2&&!c.stepDone,onClick:t[1]||(t[1]=n=>i.stepNumber=2)},[G,s("span",H,[s("span",J,o(e.$t("Services")),1),s("span",q,o(e.$t("ChooseYourServices")),1)])],8,X)],2),K,s("div",{class:p(["col-md-3 step",{active:i.stepNumber===3}]),"data-target":"#team-details"},[s("button",{type:"button",class:"step-trigger",disabled:!c.stepDone&&i.stepNumber<3||i.stepNumber<2,onClick:t[2]||(t[2]=n=>i.stepNumber=3)},[Z,s("span",ss,[s("span",es,o(e.$t("Team")),1),s("span",ts,o(e.$t("EnterYourTeamDetails")),1)])],8,Q)],2)]),s("div",is,[s("form",null,[s("div",{id:"account-details",class:p(["content h-px-700",{active:i.stepNumber===1}])},[s("div",ns,[s("p",os,o(e.$t("AccountSetup")),1),s("h4",null,o(e.$t("WhatYourBusinessName")),1)]),s("div",ls,[s("div",rs,[s("label",cs,o(e.$t("BusinessName")),1),m(s("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>i.business.name=n),type:"text",class:"form-control",id:"businessname",name:"businessname",autofocus:""},null,512),[[g,i.business.name]])]),s("div",as,[s("label",ds,"Website ("+o(e.$t("Optional"))+")",1),s("div",us,[ps,m(s("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>i.business.website=n),type:"text",class:"form-control",id:"website",name:"website",placeholder:"www"},null,512),[[g,i.business.website]])])]),s("div",null,[s("h4",null,o(e.$t("WhereYourBusinessLocated")),1)]),s("div",bs,[s("label",hs,o(e.$t("BusinessAddress")),1),s("div",ms,[_s,m(s("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>i.business.address=n),type:"text",class:"form-control",id:"address",name:"address",disabled:i.business.mobileOrOnlineServiceOnly},null,8,vs),[[g,i.business.address]])])]),s("div",gs,[m(s("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>i.business.mobileOrOnlineServiceOnly=n),type:"checkbox",id:"mobileOrOnlineServiceOnly",name:"mobileOrOnlineServiceOnly"},null,512),[[O,i.business.mobileOrOnlineServiceOnly]]),v(" Â "+o(e.$t("IDontHaveBusinessAddress")),1)]),s("div",fs,[s("button",ks,[ys,s("span",$s,o(e.$t("Previous")),1)]),s("button",{type:"button",class:"btn btn-primary btn-next",disabled:!c.stepDone,onClick:t[7]||(t[7]=n=>i.stepNumber++)},[s("span",xs,o(e.$t("Next")),1),Cs],8,ws)]),s("div",Ss,[f(u,{onClick:c.onLogout,to:"/login",class:"d-flex align-items-center justify-content-center"},{default:k(()=>[Ns,v(" "+o(e.$t("BackToLogin")),1)]),_:1},8,["onClick"])])])],2),s("div",{id:"service-details",class:p(["content h-px-700",{active:i.stepNumber===2}])},[s("div",Os,[s("p",As,o(e.$t("AccountSetup")),1),s("h4",Ts,o(e.$t("WhatAreYourServices")),1),s("span",null,o(e.$t("ChooseYourRelatedServices")),1)]),s("div",Bs,[(b(!0),h(w,null,x(i.services,n=>(b(),h("div",{class:"col-12 col-sm-6 col-md-4 col-lg-4 mb-4",key:n.id},[s("div",{class:"form-check custom-option custom-option-basic",id:n.id},[s("label",{class:"form-check-label custom-option-content pt-6",for:`customCheckboxTemp${n.id}`},[s("input",{class:"form-check-input",type:"checkbox",id:`customCheckboxTemp${n.id}`,onClick:a=>c.toggleService(n.id)},null,8,zs),s("span",Es,[s("span",{class:"h6 mb-0 text-truncate",title:this.$store.getters._language==="tr"?n.name:n.nameEn},o(this.$store.getters._language==="tr"?n.name:n.nameEn),9,Ls),s("small",{class:"text-muted",id:`text-${n.id}`},null,8,js)])],8,Ds)],8,Is)]))),128)),s("div",Ps,[s("button",{type:"button",class:"btn btn-label-secondary btn-prev",onClick:t[8]||(t[8]=n=>i.stepNumber--)},[Vs,s("span",Ys,o(e.$t("Previous")),1)]),s("button",{type:"button",class:"btn btn-primary btn-next",disabled:!c.stepDone,onClick:t[9]||(t[9]=n=>i.stepNumber++)},[s("span",Ms,o(e.$t("Next")),1),Us],8,Ws)]),s("div",Fs,[f(u,{onClick:c.onLogout,to:"/login",class:"d-flex align-items-center justify-content-center"},{default:k(()=>[Rs,v(" "+o(e.$t("BackToLogin")),1)]),_:1},8,["onClick"])])])],2),s("div",{id:"team-details",class:p(["content h-px-700",{active:i.stepNumber===3}])},[s("div",Xs,[s("p",Gs,o(e.$t("AccountSetup")),1),s("h4",null,o(e.$t("WhatYourTeamSize")),1)]),s("div",Hs,[(b(!0),h(w,null,x(i.teamChooses,(n,a)=>(b(),h("div",{class:"col-md-12 mb-4",key:a},[s("div",Js,[s("label",{class:"form-check-label custom-option-content pt-6",for:`customRadioTemp${a+1}`},[m(s("input",{name:"customRadioTemp",value:a+1,class:"form-check-input",type:"radio",id:`customRadioTemp${a+1}`,"onUpdate:modelValue":t[10]||(t[10]=_=>i.business.workerSizeType=_)},null,8,Ks),[[A,i.business.workerSizeType]]),s("span",Qs,[s("span",Zs,o(n),1)])],8,qs)])]))),128)),s("div",se,[s("button",{type:"button",class:"btn btn-label-secondary btn-prev",onClick:t[11]||(t[11]=n=>i.stepNumber--)},[ee,s("span",te,o(e.$t("Previous")),1)]),s("button",{type:"button",disabled:!c.stepDone,onClick:t[12]||(t[12]=(...n)=>c.save&&c.save(...n)),class:"btn btn-primary btn-submit"},o(e.$t("Done")),9,ie)]),s("div",ne,[f(u,{onClick:c.onLogout,to:"/login",class:"d-flex align-items-center justify-content-center"},{default:k(()=>[oe,v(" "+o(e.$t("BackToLogin")),1)]),_:1},8,["onClick"])])])],2)])])])])])])])}const ce=C(D,[["render",le],["__scopeId","data-v-469837f3"]]);export{ce as default};
