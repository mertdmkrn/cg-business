import{W as O}from"./WelcomeBar-FBvvBDSd.js";import{q as j,_ as V,c as K,e as U,a as n,t as m,F as Z,o as J,r as Q}from"./index-Ccc6EchM.js";var q={exports:{}};(function(i,t){(function(s,o){o(t)})(j,function(s){var o=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},d={weekdays:{shorthand:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],longhand:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},months:{shorthand:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],longhand:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},firstDayOfWeek:1,ordinal:function(){return"."},rangeSeparator:" - ",weekAbbreviation:"Hf",scrollTitle:"Artırmak için kaydırın",toggleTitle:"Aç/Kapa",amPM:["ÖÖ","ÖS"],time_24hr:!0};o.l10ns.tr=d;var f=o.l10ns;s.Turkish=d,s.default=f,Object.defineProperty(s,"__esModule",{value:!0})})})(q,q.exports);function X(i,t){let s=new Date;new Date(new Date().getTime()+24*60*60*1e3),s.getMonth()===11?new Date(s.getFullYear()+1,0,1):new Date(s.getFullYear(),s.getMonth()+1,1),s.getMonth()===11?new Date(s.getFullYear()-1,0,1):new Date(s.getFullYear(),s.getMonth()-1,1);const o=document.getElementById("calendar"),d=document.querySelector(".app-calendar-sidebar"),f=document.getElementById("newAppointmentSidebar"),u=document.querySelector(".app-overlay"),S={Business:"primary",Holiday:"success",Personal:"danger",Family:"warning",ETC:"info"},p=document.querySelector(".offcanvas-title"),_=document.querySelector(".btn-toggle-sidebar");document.querySelector(".btn-toggle-sidebar");const c=document.querySelector("#addEventBtn"),b=document.querySelector(".btn-delete-event"),P=document.querySelector(".btn-cancel"),Y=document.querySelector("#eventTitle"),A=document.querySelector("#eventStartDate"),L=document.querySelector("#eventEndDate");document.querySelector("#eventURL");const h=$("#eventLabel"),y=$("#eventGuests"),H=document.querySelector("#eventLocation"),G=document.querySelector("#eventDescription"),g=document.querySelector(".allDay-switch"),k=document.querySelector(".select-all"),D=[].slice.call(document.querySelectorAll(".input-filter")),x=$("#inlineCalendar");let r,E=i,M;const T=new bootstrap.Offcanvas(f);//! TODO: Update Event label and guest code to JS once select removes jQuery dependency
if(h.length){let e=function(a){if(!a.id)return a.text;var l="<span class='badge badge-dot bg-"+$(a.element).data("label")+" me-2'> </span>"+a.text;return l};h.wrap('<div class="position-relative"></div>').select2({placeholder:"Select value",dropdownParent:h.parent(),templateResult:e,templateSelection:e,minimumResultsForSearch:-1,escapeMarkup:function(a){return a}})}if(y.length){let e=function(a){if(!a.id)return a.text;var l="<div class='d-flex flex-wrap align-items-center'><div class='avatar avatar-xs me-2'><img src='"+assetsPath+"img/avatars/"+$(a.element).data("avatar")+"' alt='avatar' class='rounded-circle' /></div>"+a.text+"</div>";return l};y.wrap('<div class="position-relative"></div>').select2({placeholder:"Select value",dropdownParent:y.parent(),closeOnSelect:!1,templateResult:e,templateSelection:e,escapeMarkup:function(a){return a}})}if(A)var B=A.flatpickr({locale:t,enableTime:!0,altFormat:"Y-m-dTH:i:S",onReady:function(e,a,l){l.isMobile&&l.mobileInput.setAttribute("step",null)}});if(L)var C=L.flatpickr({locale:t,enableTime:!0,altFormat:"Y-m-dTH:i:S",onReady:function(e,a,l){l.isMobile&&l.mobileInput.setAttribute("step",null)}});x&&(M=x.flatpickr({locale:t,monthSelectorType:"static",inline:!0}));function F(e){r=e.event,r.url&&(e.jsEvent.preventDefault(),window.open(r.url,"_blank")),p&&(p.innerHTML="Update Event"),T.show(),c.innerHTML="Update",c.classList.add("btn-update-event"),c.classList.remove("btn-add-event"),b.classList.remove("d-none"),Y.value=r.title,B.setDate(r.start,!0,"Y-m-d"),r.allDay===!0?g.checked=!0:g.checked=!1,r.end!==null?C.setDate(r.end,!0,"Y-m-d"):C.setDate(r.start,!0,"Y-m-d"),h.val(r.extendedProps.calendar).trigger("change"),r.extendedProps.location!==void 0&&(H.value=r.extendedProps.location),r.extendedProps.guests!==void 0&&y.val(r.extendedProps.guests).trigger("change"),r.extendedProps.description!==void 0&&(G.value=r.extendedProps.description)}function w(){const e=document.querySelector(".fc-sidebarToggle-button");for(e.classList.remove("fc-button-primary"),e.classList.add("d-lg-none","d-inline-block","ps-0");e.firstChild;)e.firstChild.remove();e.setAttribute("data-bs-toggle","sidebar"),e.setAttribute("data-overlay",""),e.setAttribute("data-target","#app-calendar-sidebar"),e.insertAdjacentHTML("beforeend",'<i class="ti ti-menu-2 ti-lg text-heading"></i>')}function N(){let e=[];return[].slice.call(document.querySelectorAll(".input-filter:checked")).forEach(l=>{e.push(l.getAttribute("data-value"))}),e}function W(e,a){let l=N(),R=E.filter(function(z){return l.includes(z.extendedProps.calendar.toLowerCase())});a(R)}let v=new Calendar(o,{locale:{code:t,week:{dow:t==="tr"?1:0,doy:4},direction:"ltr",buttonText:{today:t==="tr"?"Bugün":"Today",prev:t==="tr"?"Önceki":"Prev",next:t==="tr"?"Sonraki":"Next",prevYear:t==="tr"?"Önceki Yıl":"Prev Year",nextYear:t==="tr"?"Sonraki Yıl":"Next Year",year:t==="tr"?"Yıl":"Year",month:t==="tr"?"Ay":"Month",week:t==="tr"?"Hafta":"Week",day:t==="tr"?"Gün":"Day",list:t==="tr"?"Liste":"List",dayGridMonth:t==="tr"?"Ay":"Month",timeGridWeek:t==="tr"?"Hafta":"Week",timeGridDay:t==="tr"?"Gün":"Day",listMonth:t==="tr"?"Liste":"List"},weekText:t==="tr"?"H":"W",weekTextLong:t==="tr"?"Hafta":"Week",closeHint:t==="tr"?"Kapat":"Close",timeHint:t==="tr"?"Zaman":"Time",eventHint:t==="tr"?"Randevu":"Appointment",allDayText:t==="tr"?"Tüm Gün":"All-Day",moreLinkText:t==="tr"?"daha fazla":"more",noEventsText:t==="tr"?"Gösterilecek randevu yok":"No appointment to display"},initialView:"dayGridMonth",events:W,plugins:[dayGridPlugin,interactionPlugin,listPlugin,timegridPlugin],editable:!0,dragScroll:!0,dayMaxEvents:2,eventResizableFromStart:!0,customButtons:{sidebarToggle:{text:t==="tr"?"":"Sidebar"}},headerToolbar:{start:"sidebarToggle, prev, next, title",end:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},direction:"ltr",initialDate:new Date,views:{timeGridWeek:{dayHeaderFormat:{weekday:"short"}}},navLinks:!0,eventClassNames:function({event:e}){return["fc-event-"+S[e._def.extendedProps.calendar]]},dateClick:function(e){let a=moment(e.date).format("YYYY-MM-DD");p&&(p.innerHTML=t==="tr"?"Randevu Ekle":"Add Appointment"),T.show(),c.innerHTML=t==="tr"?"Ekle":"Add",c.classList.remove("btn-update-event"),c.classList.add("btn-add-event"),b.classList.add("d-none"),A.value=a,L.value=a},eventClick:function(e){F(e)},datesSet:function(){w()},viewDidMount:function(){w()}});v.render(),w(),_&&_.addEventListener("click",e=>{P.classList.remove("d-none")});function I(e){E=E.filter(function(a){return a.id!=e}),v.refetchEvents()}c.addEventListener("click",e=>{c.classList.contains("btn-add-event")}),b.addEventListener("click",e=>{I(parseInt(r.id)),T.hide()}),_.addEventListener("click",e=>{p&&(p.innerHTML=t==="tr"?"Randevu Ekle":"Add Appointment"),c.innerHTML=t==="tr"?"Ekle":"Add",c.classList.remove("btn-update-event"),c.classList.add("btn-add-event"),b.classList.add("d-none"),d.classList.remove("show"),u.classList.remove("show")}),k&&k.addEventListener("click",e=>{e.currentTarget.checked?document.querySelectorAll(".input-filter").forEach(a=>a.checked=1):document.querySelectorAll(".input-filter").forEach(a=>a.checked=0),v.refetchEvents()}),D&&D.forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".input-filter:checked").length<document.querySelectorAll(".input-filter").length?k.checked=!1:k.checked=!0,v.refetchEvents()})}),M.config.onChange.push(function(e){v.changeView(v.view.type,moment(e[0]).format("YYYY-MM-DD")),w(),d.classList.remove("show"),u.classList.remove("show")}),document.querySelectorAll("#app-calendar-sidebar .flatpickr-calendar").forEach((e,a)=>{e.style.display=a===0?"block":"none"}),ee()}function ee(){document.querySelectorAll('[data-bs-toggle="sidebar"]').forEach(t=>{t.addEventListener("click",()=>{const s=t.getAttribute("data-target"),o=t.getAttribute("data-overlay"),d=document.querySelectorAll(".app-overlay");document.querySelectorAll(s).forEach(u=>{u.classList.toggle("show"),typeof o<"u"&&o!==null&&o!==!1&&typeof d<"u"&&(u.classList.contains("show")?d[0].classList.add("show"):d[0].classList.remove("show"),d[0].addEventListener("click",S=>{S.currentTarget.classList.remove("show"),u.classList.remove("show")}))})})})}const te={components:{WelcomeBar:O},mounted(){X([],this.$i18n.locale)}},ne={class:"card app-calendar-wrapper shadow-none border"},ae={class:"row g-0"},re={class:"col app-calendar-sidebar border-end",id:"app-calendar-sidebar"},se={class:"border-bottom p-6 my-sm-0 mb-4"},le={class:"btn btn-primary btn-toggle-sidebar w-100","data-bs-toggle":"offcanvas","data-bs-target":"#newAppointmentSidebar","aria-controls":"newAppointmentSidebar"},ie=n("i",{class:"ti ti-plus ti-16px me-2"},null,-1),oe={class:"align-middle"},de=n("div",{class:"px-3 pt-2"},[n("div",{class:"inline-calendar",id:"inlineCalendar"})],-1),ce=n("hr",{class:"mb-6 mx-n4 mt-3"},null,-1),ue={class:"px-6 pb-2"},me={class:"form-check form-check-secondary mb-5 ms-2"},pe=n("input",{class:"form-check-input select-all",type:"checkbox",id:"selectAll","data-value":"all",checked:""},null,-1),ve={class:"form-check-label",for:"selectAll"},fe={class:"col app-calendar-content"},be=n("div",{class:"card shadow-none border-0"},[n("div",{class:"card-body pb-0"},[n("div",{id:"calendar"})])],-1),he=n("div",{class:"app-overlay"},null,-1),ye={class:"offcanvas offcanvas-end event-sidebar",tabindex:"-1",id:"newAppointmentSidebar","aria-labelledby":"newAppointmentSidebarLabel"},ke={class:"offcanvas-header border-bottom"},we={class:"offcanvas-title",id:"newAppointmentSidebarLabel"},Se=n("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),_e={class:"offcanvas-body"},Ae={class:"event-form pt-0",id:"eventForm",onsubmit:"return false"},Le={class:"d-flex justify-content-sm-between justify-content-start mt-6 gap-2"},Ee={class:"d-flex"},Te={type:"submit",id:"addEventBtn",class:"btn btn-primary btn-add-event me-4"},ge={type:"reset",class:"btn btn-label-secondary btn-cancel me-sm-0 me-1","data-bs-dismiss":"offcanvas"},De={class:"btn btn-label-danger btn-delete-event d-none"};function xe(i,t,s,o,d,f){const u=Q("WelcomeBar");return J(),K(Z,null,[U(u),n("div",ne,[n("div",ae,[n("div",re,[n("div",se,[n("button",le,[ie,n("span",oe,m(i.$t("NewAppointment")),1)])]),de,ce,n("div",ue,[n("div",null,[n("h5",null,m(i.$t("TeamMemberFilter")),1)]),n("div",me,[pe,n("label",ve,m(i.$t("ViewAll")),1)])])]),n("div",fe,[be,he,n("div",ye,[n("div",ke,[n("h5",we,m(i.$t("AddAppointment")),1),Se]),n("div",_e,[n("form",Ae,[n("div",Le,[n("div",Ee,[n("button",Te,m(i.$t("Add")),1),n("button",ge,m(i.$t("Cancel")),1)]),n("button",De,m(i.$t("Delete")),1)])])])])])])])],64)}const Pe=V(te,[["render",xe]]);export{Pe as default};
