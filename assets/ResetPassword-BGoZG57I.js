import{i as u}from"./helpers-DQ3rx_IO.js";import{_ as m,r as w,o as f,c as _,a as t,b as p,k as g,t as i,w as v,v as h,e as b,f as y,h as $,p as P,g as x}from"./index-ta_qqHUJ.js";import{_ as k}from"./auth-left-W1GJUyPy.js";const E={data(){var o;return{isShow:!1,passwordInfo:{password:"",retryPassword:"",email:(o=this.$store.getters)==null?void 0:o._resetPasswordEmail,linkId:this.$route.params.id}}},mounted(){u(),this.existsPasswordResetLink(),document.body.style.overflow="hidden"},unmounted(){document.body.style.overflow="auto"},methods:{async existsPasswordResetLink(){var o,e,r;try{const a={email:(o=this.$store.getters)==null?void 0:o._resetPasswordEmail,linkId:this.$route.params.id},s=await this.$appAxios.post("/businessuser/existspasswordresetlink",a);((e=s==null?void 0:s.data)==null?void 0:e.hasError)?(this.$toastr.error((r=s==null?void 0:s.data)==null?void 0:r.message),setTimeout(()=>{this.$router.push({path:"/login"})},2e3)):this.isShow=!0}catch{this.$toastr.error(this.$t("ErrorMessage"))}},async resetPassword(){var o,e,r,a;try{const s=await this.$appAxios.post("/businessuser/passwordreset",this.passwordInfo);((o=s==null?void 0:s.data)==null?void 0:o.hasError)?this.$toastr.error(`${(e=s==null?void 0:s.data)==null?void 0:e.message}<hr>${(r=s==null?void 0:s.data)==null?void 0:r.validationErrors.map(l=>`${l.key}: ${l.value}`).join("<hr>")}`):(this.$toastr.success((a=s==null?void 0:s.data)==null?void 0:a.message),setTimeout(()=>{this.$router.push({path:"/login"})},2e3))}catch{this.$toastr.error(this.$t("ErrorMessage"))}}}},c=o=>(P("data-v-e58a7f1d"),o=o(),x(),o),I={class:"authentication-wrapper authentication-cover"},S={class:"authentication-inner row m-0"},T=c(()=>t("div",{class:"d-none d-lg-flex col-lg-8 p-0"},[t("div",{class:"auth-cover-bg auth-cover-bg-color d-flex justify-content-center align-items-center"},[t("img",{src:k,alt:"auth-login-cover","data-app-light-img":"pages/auth-left.png","data-app-dark-img":"pages/auth-left.png"})])],-1)),R={class:"d-flex col-12 col-lg-4 align-items-center p-6 p-sm-12"},B={class:"w-px-400 mx-auto mt-12 pt-5"},V={class:"mb-1"},M={class:"mb-6"},N={class:"fw-medium"},q={class:"mb-6 form-password-toggle"},A={class:"form-label",for:"password"},L={class:"input-group input-group-merge"},j=c(()=>t("span",{class:"input-group-text cursor-pointer"},[t("i",{class:"ti ti-eye-off"})],-1)),C={class:"mb-6 form-password-toggle"},D={class:"form-label",for:"confirm-password"},U={class:"input-group input-group-merge"},X=c(()=>t("span",{class:"input-group-text cursor-pointer"},[t("i",{class:"ti ti-eye-off"})],-1)),z={class:"btn btn-primary d-grid w-100 mb-6"},F={class:"text-center"},G=c(()=>t("i",{class:"ti ti-chevron-left scaleX-n1-rtl me-1_5"},null,-1));function H(o,e,r,a,s,n){const l=w("router-link");return f(),_("div",I,[t("div",S,[T,t("div",R,[p(t("div",B,[t("h4",V,i(o.$t("ResetPasswordTitle")),1),t("p",M,[t("span",N,i(o.$t("ResetPasswordSpot")),1)]),t("form",{id:"formAuthentication",onSubmit:e[2]||(e[2]=v((...d)=>n.resetPassword&&n.resetPassword(...d),["prevent"])),class:"mb-6"},[t("div",q,[t("label",A,i(o.$t("Password")),1),t("div",L,[p(t("input",{type:"password",id:"password",class:"form-control",name:"password","onUpdate:modelValue":e[0]||(e[0]=d=>s.passwordInfo.password=d),placeholder:"········","aria-describedby":"password",required:""},null,512),[[h,s.passwordInfo.password]]),j])]),t("div",C,[t("label",D,i(o.$t("RePassword")),1),t("div",U,[p(t("input",{type:"password",id:"confirm-password",class:"form-control",name:"confirm-password","onUpdate:modelValue":e[1]||(e[1]=d=>s.passwordInfo.retryPassword=d),placeholder:"········","aria-describedby":"password",required:""},null,512),[[h,s.passwordInfo.retryPassword]]),X])]),t("button",z,i(o.$t("SetNewPassword")),1),t("div",F,[b(l,{to:"/login",class:"d-flex align-items-center justify-content-center"},{default:y(()=>[G,$(" "+i(o.$t("BackToLogin")),1)]),_:1})])],32)],512),[[g,s.isShow]])])])])}const Q=m(E,[["render",H],["__scopeId","data-v-e58a7f1d"]]);export{Q as default};
